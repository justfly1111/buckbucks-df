#!/bin/sh

# Clone libcprime, libcsys, wayfire
git clone https://gitlab.com/cubocore/coreapps/libcprime
git clone https://gitlab.com/cubocore/coreapps/libcsys
#git clone https://github.com/wayfirewm/wayfire --recurse-submodules

# Build libcprime
cd libcprime
mkdir build && cd build
cmake -GNinja ..
ninja -k 0 -j $(nproc)
sudo ninja install
cd ../..

# Build libcsys
cd libcsys
mkdir build && cd build
cmake -GNinja ..
ninja -k 0 -j $(nproc)
sudo ninja install
cd ../..

# Build PaperDesktop
mkdir build && cd build
cmake -DCMAKE_INSTALL_PREFIX=/usr/local -DCMAKE_INSTALL_LIBDIR=lib/x86_64-freebsd-gnu -DPKGCONFPATH=/usr/local/etc/xdg/paperde -DPKGSHAREDPATH=/usr/local/share/paperde -GNinja ..
ninja -k 0 -j $(nproc)
sudo ninja install
